---
layout: compress
---
{% assign current_lang = page.lang | default: site.default_lang | default: "es" %}
{% capture home_url %}/{{ current_lang }}/{% endcapture %}

{% include head.html %}
<body class="lang-{{ current_lang }}">
  {% include nav.html %}
  {% include header.html %}
      {{ content }}
  {% include footer.html %}
  
 
  <script defer src="/js/main.js"></script>

  <!-- JavaScript para la rotación de imágenes -->
  {% if page.layout == "servicios" %}
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const bg1 = document.querySelector(".bg1");
        const bg2 = document.querySelector(".bg2");
        let isBg1Visible = true;

        setInterval(() => {
            bg1.style.opacity = isBg1Visible ? "0" : "1";
            bg2.style.opacity = isBg1Visible ? "1" : "0";
            isBg1Visible = !isBg1Visible;
        }, 5000);
    });
  </script>
  {% endif %}

  {% if page.cases %}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const containers = document.querySelectorAll('.before-after-wrapper');
      
      containers.forEach(container => {
        let isMoving = false;
        const beforeContainer = container.querySelector('.before-image-container');
        const sliderLine = container.querySelector('.slider-line');
        
        const updateSliderPosition = (clientX) => {
          if (!isMoving) return;
          
          const rect = container.getBoundingClientRect();
          const x = Math.max(rect.left, Math.min(clientX, rect.right));
          const percent = ((x - rect.left) / rect.width) * 100;
          
          requestAnimationFrame(() => {
            beforeContainer.style.clipPath = `inset(0 ${100 - percent}% 0 0)`;
            sliderLine.style.left = `${percent}%`;
          });
        };
        
        const handleStart = (e) => {
          isMoving = true;
          updateSliderPosition(e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);
        };
        
        const handleMove = (e) => {
          if (!isMoving) return;
          e.preventDefault();
          updateSliderPosition(e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);
        };
        
        const handleEnd = () => {
          isMoving = false;
        };
        
        container.addEventListener('mousedown', handleStart);
        window.addEventListener('mousemove', handleMove);
        window.addEventListener('mouseup', handleEnd);
        
        container.addEventListener('touchstart', handleStart);
        container.addEventListener('touchmove', handleMove);
        container.addEventListener('touchend', handleEnd);
      });
    });

  </script>
  {% endif %}

  {% if page.url contains "/centro-estetico/" or page.url contains "/aesthetic-center/" %}
    <script>
      /*contador*/
      function animateCounter(id, end) {
        const obj = document.getElementById(id);
        const duration = 3000;
        const frames = 60;
        let current = 0;
        
        const step = end / frames;
        const interval = duration / frames;
        
        const timer = setInterval(() => {
          current += step;
          obj.innerText = Math.round(current).toLocaleString();
          
          if (current >= end) {
            obj.innerText = end.toLocaleString();
            clearInterval(timer);
          }
        }, interval);
      }

      document.addEventListener('DOMContentLoaded', () => {
        animateCounter('patients', 4320);
        animateCounter('years', 15);
        animateCounter('professionals', 3);
        animateCounter('procedures', 12000);
      });
    </script>
  {% endif %}

  <script>
    document.addEventListener('DOMContentLoaded', function() {
    const navToggle = document.querySelector('.nav-toggle');
    const navMenu = document.querySelector('.nav-menu');
    const dropdowns = document.querySelectorAll('.nav-item.has-dropdown');

    navToggle?.addEventListener('click', function() {
      navMenu.classList.toggle('active');
      this.classList.toggle('active');
      
      document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
    });

    document.addEventListener('click', function(e) {
      if (!navMenu.contains(e.target) && !navToggle.contains(e.target)) {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
        document.body.style.overflow = '';
      }
    });

    if (window.innerWidth <= 1024) {
      dropdowns.forEach(dropdown => {
        const link = dropdown.querySelector('.nav-link');
        const content = dropdown.querySelector('.dropdown-content');
        
        link.addEventListener('click', function(e) {
          e.preventDefault();
          content.style.display = content.style.display === 'block' ? 'none' : 'block';
        });
      });
    }

    window.addEventListener('resize', function() {
      if (window.innerWidth > 1024) {
        dropdowns.forEach(dropdown => {
          const content = dropdown.querySelector('.dropdown-content');
          content.style.display = '';
        });
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
        document.body.style.overflow = '';
      }
    });
  });
  </script>
</body>
</html>
